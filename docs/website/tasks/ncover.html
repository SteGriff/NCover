<html>
<head>
<title>NCover: NAnt integration: NCover task</title>
 <link rel="stylesheet" type="text/css" href="../style.css" />
<body>

<div id="border">
<div id="content">

<style>
<!--
.table table {
    font-size: 100%;
    border-collapse: collapse;
    width: 93%;
}

.table th {
    background-color: #eeeeee;
    color: #000000;
    font-weight: bolder;
    padding: 5px;
    border: 1px solid #999999;
    text-align: left;
}

.table td {
    border: 1px solid #999999;
    padding: 5px;
}
-->
</style>

<a href="../nant-integration.html">NAnt Integration</a> 
<div id="section">
<h3>&lt;ncover&gt; task</h3>
Instruments c# code with coverage code.<br/>

This task should be run prior to compilation and tests being run.

<br/>
Line numbers of the instrumented code remain the same.
<p>
<b>As with all code instrumentation products, <font color="red">run the ncover task against a copy of your source code, not the originals.</font></b>
Your originals should be kept safe in a source control system.
</p>
<p>
To load the task add in this line to your initialisation target in your NAnt build file:<br/><br/>
	<code>&lt;loadtasks assembly="NCover.dll" /&gt;</code>

</p>

<h3><Parameters</h3>
   <div class="table">
      <table>
        <tr>
          <th>Attribute</th>

          <th style="text-align: center;">Type</th>
          <th>Description</th>
          <th style="text-align: center;">Required</th>
        </tr>
        <tr>
          <td valign="top">publishDir</td>

          <td style="text-align: center;">string</td>
          <td>
            Directory to output the expected coverage points that should be hit. The default is <b>Project.BaseDirectory/expectedCoverage.xml</b>.
            </td>
          <td style="text-align: center;">False</td>
        </tr>
        <tr>
          <td valign="top">reportname</td>

          <td style="text-align: center;">string</td>
          <td>
            Name for this set of instrumentions.
            </td>
          <td style="text-align: center;">False</td>
        </tr>

      </table>
    </div>
</div>
<div id="section">
<h3>Nested Elements</h3>

<h4>&lt;sourcefilestoinstrument&gt;</h4>
The set of source files to instrument (a FileSet). Required.
Use includes / excludes to select the set of files you wish to establish the test coverage against.
Typically this fileset would include all production source files and exclude the test source files.
<br/>
A file called NCoverCheck.cs is writen to the source directory.
The code coverage will work across separate exes and dlls, as long as the file is included in each csc tast's &lt;sources&gt; element.
</div>

<div id="section">
<h3>Example</h3>

<pre>
&lt;ncover&gt;
	&lt;sourcefilestoinstrument basedir=".\instrumentedSrc\"&gt;
		&lt;includes name="**/*.cs"/&gt;
	&lt;/sourcefilestoinstrument&gt;
&lt;/ncover>
</pre>
</div>
</div>
</div>
</body>
</html>